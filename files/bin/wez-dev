#!/bin/bash

function projects {
    local max_cols=300
    projects='/Users/agarcia/Projects/'
    cd "$projects"
    local percent=50
    if [[ $COLUMNS -gt $max_cols || $COLUMS -eq $max_cols ]]; then
        percent=33
    fi
    wezterm cli split-pane --cwd "$projects" --right --percent "$percent"
}

function dotfiles {
    wezterm cli spawn --cwd '/Users/agarcia/dotfiles/' --new-window --workspace "dotfiles" -- /bin/zsh -l
}

function main {
    projects > /dev/null # tab 0
    dotfiles > /dev/null # tab 1
    wezterm cli activate-tab --tab-id 0

    # open up gmail, calendar, jira, bitbucket
    open 'https://gmail.com' 'https://calendar.google.com' 'https://dotdash.atlassian.net/jira/software/c/projects/CMSFRM/boards/1084' 'https://bitbucket.prod.aws.about.com/dashboard'

    # open slack
    open '/Applications/Slack.app/'

    # open obsidian
    open '/Applications/Obsidian.app/'
}

main
